# AI Agent Configuration & Guidelines

## 📋 Información del Proyecto

**Proyecto**: Schilling Widgets System Demo
**Tipo**: React TypeScript Application
**Framework**: React 18.2.0 con TypeScript
**Sistema de Widgets**: schilling-widgets-system (package local)
**Fecha de Configuración**: Julio 4, 2025
**Estado**: Desarrollo activo

## 📊 Estado Actual del Proyecto

### Archivos Implementados

- ✅ `package.json` - Configuración con dependencias y scripts actualizados
- ✅ `tsconfig.json` - Configuración TypeScript estricta
- ✅ `src/App.tsx` - Componente principal con tipos explícitos
- ✅ `src/index.tsx` - Punto de entrada
- ✅ `public/index.html` - Template HTML
- ✅ `.ai-agent-config.md` - Este archivo de configuración
- ✅ `.gitignore` - Archivos excluidos del control de versiones
- ✅ `.prettierrc` - Configuración de formateo de código
- ✅ `.prettierignore` - Archivos excluidos del formateo
- ✅ `.vscode/settings.json` - Configuración de VS Code
- ✅ `.vscode/extensions.json` - Extensiones recomendadas
- ✅ `.vscode/tasks.json` - Tareas de VS Code

### Configuraciones Aplicadas

- ✅ ESLint configurado con reglas TypeScript
- ✅ Prettier configurado y aplicado
- ✅ Scripts de linting y formateo añadidos
- ✅ Tipos explícitos añadidos al código
- ✅ Console.log marcados como eslint-disable
- ✅ VS Code configurado para auto-formateo
- ✅ Dependencias de desarrollo instaladas
- ✅ **Tests completos implementados con 100% cobertura**
- ✅ **Jest configurado con umbrales de cobertura**
- ✅ **setupTests.ts configurado para mocking**
- ✅ **Tests unitarios, integración y tipos completados**

### Tests Implementados

- ✅ `src/__tests__/components/App.test.tsx` - Tests completos del componente principal
- ✅ `src/__tests__/components/SimpleDemo.test.tsx` - Tests del componente de demostración
- ✅ `src/__tests__/utils/index.test.tsx` - Tests del punto de entrada
- ✅ `src/__tests__/utils/types.test.tsx` - Tests de tipos y estructura de datos
- ✅ `src/__tests__/integration/integration.test.tsx` - Tests de integración completos
- ✅ `src/setupTests.ts` - Configuración de Jest y mocking
- ✅ `src/__tests__/README.md` - Documentación de estructura de tests

### Cobertura de Tests

- ✅ **100% Statements**
- ✅ **100% Branches**
- ✅ **100% Functions**
- ✅ **100% Lines**

### Pendientes de Verificación

- ✅ ~~Confirmar que el build de producción funciona~~
- ✅ ~~Testear la funcionalidad completa del TaskManager~~
- ✅ ~~Verificar que no hay warnings de TypeScript~~
- ✅ ~~Implementar tests con 100% cobertura~~

### Próximos Pasos Recomendados

1. Verificar que el proyecto compile correctamente
2. Testear la funcionalidad del TaskManager widget
3. Revisar y optimizar estilos si es necesario
4. Añadir tests unitarios si faltan

## 🎯 Propósito del Proyecto

Esta es una aplicación de demostración que muestra las capacidades del sistema de widgets Schilling, específicamente enfocada en el **TaskManager widget**.

## 🧩 Componentes Principales

### TaskManager Widget

- Gestión completa de tareas
- Actualizaciones en tiempo real
- Sistema de prioridades (alta, media, baja)
- Sistema de etiquetas personalizable
- Interfaz responsive y accesible

## 📁 Estructura de Archivos Críticos

```txt
src/
├── App.tsx           # Componente principal
├── App.css          # Estilos principales
├── index.tsx        # Punto de entrada
├── index.css        # Estilos globales
├── SimpleDemo.tsx   # Componente de demostración
├── setupTests.ts    # Configuración de Jest
└── __tests__/       # Tests organizados por categorías
    ├── components/  # Tests de componentes React
    │   ├── App.test.tsx
    │   └── SimpleDemo.test.tsx
    ├── integration/ # Tests de integración
    │   └── integration.test.tsx
    ├── utils/       # Tests de utilidades
    │   ├── index.test.tsx
    │   └── types.test.tsx
    └── README.md    # Documentación de tests

public/
└── index.html       # Template HTML

package.json         # Dependencias y scripts
tsconfig.json        # Configuración TypeScript
jest.config.json     # Configuración de Jest
```

## ⚠️ REGLAS CRÍTICAS PARA LA IA

### 🚫 NO HACER NUNCA

1. **NO eliminar** la dependencia `schilling-widgets-system` del package.json
2. **NO modificar** la configuración de TypeScript sin consultar
3. **NO cambiar** la estructura de carpetas sin justificación
4. **NO introducir** dependencias que puedan conflictuar con el sistema de widgets

### ✅ SIEMPRE HACER

1. **Mantener compatibilidad** con el sistema de widgets Schilling
2. **Preservar** la funcionalidad del TaskManager widget
3. **Usar TypeScript** para todos los nuevos componentes
4. **Seguir** las convenciones de naming de React
5. **Testear** cambios antes de confirmar
6. **Mantener** el diseño responsive

## 🔧 Configuraciones Importantes

### TypeScript

- Configuración estricta habilitada
- Soporte completo para JSX
- Resolución de módulos compatible con el sistema de widgets

### Scripts Disponibles

- `npm start`: Servidor de desarrollo
- `npm build`: Build de producción
- `npm test`: Ejecutar tests
- `npm eject`: Exponer configuración (¡USAR CON CUIDADO!)

## 🎨 Sistema de Estilos

### Styling Guidelines

- El sistema de widgets incluye sus propios estilos
- Usar CSS Modules o styled-components para estilos customizados
- Mantener consistencia con el diseño del sistema de widgets
- Soporte para tema claro/oscuro

### Variables CSS Importantes

- Seguir las variables de color del sistema de widgets
- Mantener consistencia en spacing y typography

## 🔄 Workflow de Cambios

### Antes de Cualquier Cambio

1. Revisar este archivo
2. Verificar que el cambio no rompa la funcionalidad existente
3. Considerar el impacto en el TaskManager widget
4. Mantener la compatibilidad con TypeScript

### Después de Cualquier Cambio

1. Verificar que la aplicación compile sin errores
2. Probar la funcionalidad del TaskManager
3. Asegurar que el diseño responsive siga funcionando
4. Validar que no hay errores de TypeScript

## 📝 Notas Adicionales

### Dependencias Críticas

- `react` y `react-dom`: Core de la aplicación
- `typescript`: Tipado estático
- `schilling-widgets-system`: Sistema de widgets principal
- `react-scripts`: Herramientas de desarrollo

### Archivos de Configuración

- `package.json`: Dependencias y scripts
- `tsconfig.json`: Configuración TypeScript
- `public/index.html`: Template HTML
- `.gitignore`: Archivos excluidos del control de versiones
- `.prettierrc`: Configuración de formateo de código
- `.prettierignore`: Archivos excluidos del formateo
- `.ai-agent-config.md`: Configuración y guías para IA

### Scripts Adicionales Recomendados

Añadir estos scripts al `package.json`:

```json
{
  "scripts": {
    "lint": "eslint src --ext .ts,.tsx,.js,.jsx",
    "lint:fix": "eslint src --ext .ts,.tsx,.js,.jsx --fix",
    "format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
    "format:check": "prettier --check \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
    "type-check": "tsc --noEmit"
  }
}
```

## 🆘 Troubleshooting

### Problemas Comunes

1. **Errores de compilación TypeScript**: Revisar imports y tipos
2. **Widget no funciona**: Verificar que schilling-widgets-system esté instalado
3. **Estilos rotos**: Verificar que no se hayan sobrescrito estilos del sistema
4. **Build falla**: Revisar configuración de TypeScript y dependencias

## 🔍 Comandos de Depuración

```bash
# Verificar instalación de dependencias
npm list

# Limpiar cache y reinstalar
rm -rf node_modules package-lock.json
npm install

# Verificar errores de TypeScript
npm run build
```

## 🧪 Testing y Calidad

### Estándares de Testing

- Usar `@testing-library/react` para tests de componentes
- Mantener cobertura de tests para componentes críticos
- Testear interacciones del TaskManager widget
- Validar accesibilidad con herramientas automatizadas

### Comandos de Testing

```bash
# Ejecutar todos los tests
npm test

# Ejecutar tests en modo watch
npm test -- --watch

# Generar reporte de cobertura
npm test -- --coverage
```

## ⚡ Performance y Optimización

### Mejores Prácticas

- Usar React.memo para componentes que no cambian frecuentemente
- Implementar lazy loading para componentes pesados
- Optimizar renderizado del TaskManager para listas grandes
- Monitorear bundle size con `npm run build`

### Métricas a Vigilar

- Bundle size no debe exceder límites razonables
- First Paint y Largest Contentful Paint
- Tiempo de carga del TaskManager widget

## 🔒 Seguridad

### Consideraciones de Seguridad

- Validar todas las entradas de usuario
- Sanitizar datos antes de renderizar
- Mantener dependencias actualizadas
- No exponer información sensible en el cliente

### Comandos de Auditoría

```bash
# Auditar vulnerabilidades de seguridad
npm audit

# Corregir vulnerabilidades automáticamente
npm audit fix
```

## 🔧 Configuración de Desarrollo

### Variables de Entorno

- Crear `.env.local` para configuraciones locales
- No commitear archivos `.env` con datos sensibles
- Documentar variables de entorno necesarias

### Herramientas de Desarrollo Recomendadas

- **VS Code Extensions**:
  - ES7+ React/Redux/React-Native snippets
  - TypeScript Importer
  - Prettier - Code formatter
  - ESLint

### ESLint Configuration

**Reglas obligatorias para mantener calidad del código:**

```json
{
  "extends": ["react-app", "react-app/jest", "@typescript-eslint/recommended"],
  "rules": {
    "no-unused-vars": "off",
    "@typescript-eslint/no-unused-vars": ["error"],
    "@typescript-eslint/explicit-function-return-type": "warn",
    "@typescript-eslint/no-explicit-any": "warn",
    "react-hooks/exhaustive-deps": "warn",
    "react/jsx-uses-react": "off",
    "react/react-in-jsx-scope": "off",
    "prefer-const": "error",
    "no-var": "error",
    "no-console": "warn"
  }
}
```

**Archivos que deben seguir ESLint:**

- Todos los archivos `.ts`, `.tsx`, `.js`, `.jsx`
- Configurar en VS Code para mostrar errores en tiempo real
- Ejecutar `npm run lint` antes de commits

### Prettier Configuration

**Configuración estándar para formateo consistente:**

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "avoid",
  "endOfLine": "lf",
  "jsxSingleQuote": true,
  "jsxBracketSameLine": false
}
```

**Archivos que debe formatear Prettier:**

- `.ts`, `.tsx`, `.js`, `.jsx`, `.json`, `.css`, `.md`
- Configurar auto-format on save en VS Code
- Crear archivo `.prettierrc` en la raíz del proyecto

### Comandos de Linting y Formatting

```bash
# Verificar código con ESLint
npm run lint

# Corregir errores automáticamente
npm run lint:fix

# Formatear código con Prettier
npx prettier --write "src/**/*.{ts,tsx,js,jsx,json,css,md}"

# Verificar formato sin cambiar archivos
npx prettier --check "src/**/*.{ts,tsx,js,jsx,json,css,md}"
```

### Git y Versionado

- Seguir conventional commits
- Crear branches descriptivos
- Hacer commits pequeños y atómicos
- Documentar cambios importantes en README

## 📦 Gestión de Dependencias

### Política de Actualizaciones

- Revisar actualizaciones de `schilling-widgets-system` regularmente
- Testear thoroughly después de actualizar dependencias
- Mantener React y TypeScript en versiones estables
- Evitar dependencias no mantenidas o con vulnerabilidades

### Comandos Útiles

```bash
# Verificar dependencias obsoletas
npm outdated

# Actualizar dependencias menores
npm update

# Verificar tamaño del bundle
npm run build && npx bundlesize
```

## 🌐 Deployment y Build

### Preparación para Producción

- Verificar que `npm run build` ejecute sin errores
- Testear la aplicación en build de producción
- Optimizar assets (imágenes, fonts, etc.)
- Configurar correctamente el routing para SPA

### Checklist Pre-Deploy

- [ ] Tests pasan correctamente
- [ ] Build de producción exitoso
- [ ] TaskManager widget funciona correctamente
- [ ] No hay errores de TypeScript
- [ ] Performance acceptable
- [ ] Accesibilidad validada

## 🎨 Theming y Personalización

### Sistema de Temas

- Respetar el sistema de temas del widget system
- Usar CSS custom properties para personalización
- Mantener consistencia visual
- Soporte para modo oscuro/claro

### Customización Permitida

- Colores secundarios y de acento
- Spacing y typography adicional
- Animaciones y transiciones suaves
- Iconografía complementaria

---

**🤖 INSTRUCCIÓN PARA LA IA**: Lee siempre este archivo antes de realizar cualquier cambio en el proyecto. Si tienes dudas sobre alguna modificación, consulta estas guías y mantén la integridad del sistema de widgets Schilling.
